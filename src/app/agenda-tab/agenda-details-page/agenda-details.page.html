<ion-header [translucent]="true">
  <app-global-header defaultHref="/tabs/agenda-tab"></app-global-header>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-spinner *ngIf="loading; else eventContent" name="dots" pager="true"></ion-spinner>


  <ng-template #eventContent>
    <ion-slides pager="false" [options]="slideOpts">
      <ion-slide *ngFor="let event of events">
        <div class="swipe-content">
          <mystk-page-title>Évènement</mystk-page-title>
          <div class="article-container">
            <div class='article-content'>
              <h3>{{event.title | decodeHtmlEntities}} </h3>
              <div class="article-content-header-date">
                <ng-container *ngIf="event | method:hasDifferentStartAndEndDate; else uniqueDate">
                  <ng-container *ngIf="event | method:isEventSameDay as formatted; else differentDates">
                    Le  <strong>{{formatted.startDay}}</strong> de {{formatted.startTime}} à {{formatted.endTime}}
                  </ng-container>
                  <ng-template #differentDates>
                    Du <strong>{{event.startTime | method:formatToFrDate}}</strong> à {{event.startTime | method:formatToTime}}
                    au <strong>{{event.endTime | method:formatToFrDate}}</strong> à {{event.endTime | method:formatToTime}}
                  </ng-template>

                </ng-container>
                <ng-template #uniqueDate>
                  Le <strong>{{event.startTime | method:formatToFrDate}}</strong> à {{event.startTime | method:formatToTime}}
                </ng-template>
              </div>
              <br>
              <img *ngIf='event.thumbnail' [src]="event.thumbnail"/>
              <mystk-article-embedding-iframe [article]="event.text"></mystk-article-embedding-iframe>
            </div>
          </div>
        </div>
      </ion-slide>
    </ion-slides>
  </ng-template>
</ion-content>
